<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="cart.css">
    <link rel="stylesheet" href="index.css">

</head>
<body>
    <div id="navbar">
        <div id="logo">
            <a href="index.html">
                <img src="https://cdn.modesens.com/static/img/20190228newlogo-black.svg" alt="">
            </a>
        </div>
        <div class="text">
            <a href="women.html">WOMEN</a>
            <a href="men.html">MEN</a>
            <a href="">BEAUTY</a>
            <a href="">KIDS</a>
            <a href="index.html">HOME</a>
            <a href="">DESIGNERS</a>
            <a href="">COMMUNITY</a>
            <a href="">SALE</a>
        </div>
        <div id="checkout">
            <a href="">
                <img src="https://www.pngmart.com/files/17/USA-PNG-Clipart.png" alt="">
            </a>
            <a href="cart.html">
                <img src="https://cdn.modesens.com/static/img/20200612shopping_bag2.svg" alt="">
            </a>

            <a href="sign.html">
                <img src="https://cdn.modesens.com/static/img/20200612account_b2.svg" alt="">
            </a>
            <div id="searchbox">
                <input type="text" placeholder="Search by keyword ang image url">
                <img src="https://cdn.modesens.com/static/img/20191109search_b.svg" alt="">
                <span>Search</span>
            </div>
        </div>
        <div id="second_nav">
            <div id="tags">
                <a href="women.html">SHOP All</a>
                <a href="men.html">CLOTHING</a>
                <a href="">BAGS</a>
                <a href="">SHOES</a>
                <a href="">GROOMING</a>
                <a href="">SALE</a>
                <a href="">PRE-OWINED</a>
                <a href="">OCCASION</a>
            </div>
        </div>
    </div>

    <div id="body">

        <div id="cont">
            
        </div>
        <div id="pay">
            <h3>CheckOut</h3>
            <input type="text" placeholder="Card Holder Name" id="card">
            <input type="number" placeholder="Card Number" id="cardnumber">
            <input type="number" placeholder="CVV" id="cvv">
            <input type="date" placeholder=" Expiry Date" id="exp">
            <button  id="cheakout">submit</button>
        </div>
    </div>
    </body>
</html>
<script>
   
      let arr = JSON.parse(localStorage.getItem("masai-cart")) || []
    let bag = 0
  
    let append = (arr) => {
        let cont = document.querySelector("#cont")
        cont.innerHTML = ""
        arr.forEach((ele, index) => {
            let main = document.createElement("div")
            main.setAttribute("id", "main")
            let div = document.createElement("div")
            div.setAttribute("id", "img")
            let img = document.createElement("img")
            img.src = ele.img
            div.append(img)
            let box = document.createElement("div")
            box.setAttribute("id", "box")
            let h3 = document.createElement("h3")
            h3.innerText = ele.name
            let h4 = document.createElement("h4")
            h4.innerText = ele.brand
            let p = document.createElement("p")
            p.innerText = `$${ele.price}`
            bag = bag + Number(ele.price)
            box.append(h3, h4, p)
            let btn = document.createElement("button")
            btn.innerText = "X"
            btn.onclick = () => {
                remove(index)
            }
            main.append(div, box, btn)
            cont.append(main)
        })
        let paydiv = document.createElement("div")
        paydiv.setAttribute("id", "total")
        let total = document.createElement("h2")
        total.innerText = "TOTAL AMOUNT : -"
        let payamount = document.createElement("h2")
        payamount.innerText = `â‚¹${bag}`
        paydiv.append(total, payamount)
        cont.append(paydiv)
     }
     append(arr)
     document.querySelector("#cheakout").addEventListener("click",paying)
    function paying() {
        let x = document.querySelector("#card").value
        let y = document.querySelector("#cardnumber").value
        let z = document.querySelector("#cvv").value
        let a = document.querySelector("#exp").value
        if (x == "" || y == "" || z == "" || a == "") {
            alert('Fill the Details');
        }
        else {
            setTimeout(function(){
                alert(`${x},Your order is Sucessfull`)
            },2000)
            
        }
    }

    function remove(index) {
        arr.splice(index, 1)
        localStorage.setItem("masai-cart", JSON.stringify(arr))
        window.location.reload()
    }

</script>